{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 23,
  "summary": "Daily Nakshatra: a location-aware Vedic astrology app that determines the Moon’s current Nakshatra/Pada by user city and local time, presents an experiential daily interpretation, and provides a Nakshatra knowledge base with symbolism, traits, and Pada breakdowns, with optional alerts and reflective tools.",
  "architectural_notes": [
    "Use device location services for city detection with a manual override/search flow.",
    "Require a lunar ephemeris/astronomy calculation method to map time -> lunar longitude -> Nakshatra/Pada.",
    "Store Nakshatra content (snapshots, vignettes, symbolism/traits, pada micro-descriptions) in a structured content database for retrieval by Nakshatra/Pada."
  ],
  "known_issues": [
    "City selector issue: user cannot change selected city from New York to another city (\"select your city\" tab appears stuck).",
    "Nakshatra computation appears not to correspond to the selected city/location (data mismatch).",
    "Current position (GPS-based location detection) is still not working; user reports it failing and requests bug fixes.",
    "Intermittent/blocking runtime error: \"Error loading Nakshatra data. Please try again.\" prevents Today view from loading Nakshatra content/data.",
    "Tomorrow page also shows/blocking runtime error: \"Error loading Nakshatra data. Please try again.\" (user requests fix on Tomorrow view as well as Today)."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-create-the-core-app-navigation-and-pages-for-daily-nakshatra-1-today-view-showing-the-current-nakshatra-pada-for-the-selected-city-time-and-the-daily-interpretation-sections-2-knowledge-base-list-of-all-nakshatras-and-3-nakshatra-detail-page-with-symbolism-mythology-core-traits-and-pada-breakdown",
      "title": "Create the core app navigation and pages for Daily Nakshatra: (1) Today view showing the current Nakshatra/Pada for the selected city/time and the daily interpretation sections, (2) Knowledge Base list of all Nakshatras, and (3) Nakshatra detail page with Symbolism & Mythology, Core Traits, and Pada Breakdown.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-city-selection-with-a-manual-fallback-as-the-primary-path-provide-a-searchable-city-picker-with-a-built-in-starter-list-city-name-timezone-identifier-and-optional-lat-long-and-allow-the-user-to-set-and-persist-their-chosen-city-locally-in-the-browser",
      "title": "Implement city selection with a manual fallback as the primary path: provide a searchable city picker with a built-in starter list (city name + timezone identifier and optional lat/long) and allow the user to set and persist their chosen city locally in the browser.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-seamless-updating-on-the-today-view-recompute-and-refresh-the-active-nakshatra-pada-on-an-interval-and-when-the-selected-city-changes-and-show-the-next-transition-time-estimated-when-the-moon-enters-the-next-nakshatra-and-when-it-enters-the-next-pada",
      "title": "Implement seamless updating on the Today view: recompute and refresh the active Nakshatra/Pada on an interval and when the selected city changes, and show the next transition time (estimated) when the Moon enters the next Nakshatra and when it enters the next Pada.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-add-the-today-view-content-blocks-for-the-active-nakshatra-1-what-today-feels-like-emotional-climate-mental-focus-motivation-social-relational-tone-productivity-vs-rest-tendencies-common-frictions-blessings-and-2-a-day-in-the-life-vignette-driven-by-a-nakshatra-content-dataset",
      "title": "Add the Today view content blocks for the active Nakshatra: (1) “What Today Feels Like” (emotional climate, mental focus/motivation, social/relational tone, productivity vs rest tendencies, common frictions/blessings) and (2) “A Day in the Life” vignette, driven by a Nakshatra content dataset.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-nakshatra-knowledge-base-dataset-covering-all-27-nakshatras-each-with-primary-symbols-ruling-deity-archetype-planetary-ruler-elemental-psychological-themes-core-traits-strengths-shadow-expressions-and-a-4-pada-breakdown-including-the-ruling-navamsa-sign-for-each-pada",
      "title": "Create a Nakshatra knowledge base dataset covering all 27 Nakshatras, each with: primary symbols, ruling deity/archetype, planetary ruler, elemental/psychological themes, core traits (strengths + shadow expressions), and a 4-Pada breakdown (including the ruling Navamsa sign for each Pada).",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-add-an-in-app-alerting-option-not-push-notifications-that-can-be-toggled-on-off-to-surface-a-visible-banner-when-the-moon-has-entered-a-new-nakshatra-for-the-currently-selected-city-time-context",
      "title": "Add an in-app alerting option (not push notifications) that can be toggled on/off to surface a visible banner when the Moon has entered a new Nakshatra for the currently selected city/time context.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-define-and-apply-a-cohesive-visual-theme-for-the-app-colors-typography-spacing-and-component-styling-with-a-distinct-lunar-contemplative-aesthetic-consistently-across-today-knowledge-base-and-detail-pages-avoid-a-blue-purple-primary-palette",
      "title": "Define and apply a cohesive visual theme for the app (colors, typography, spacing, and component styling) with a distinct “lunar / contemplative” aesthetic, consistently across Today, Knowledge Base, and detail pages (avoid a blue/purple primary palette).",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-generate-and-include-static-visual-assets-to-support-the-theme-a-simple-app-logo-mark-and-a-subtle-hero-background-illustration-and-render-them-from-the-frontend-as-static-assets-do-not-serve-images-through-the-backend",
      "title": "Generate and include static visual assets to support the theme: a simple app logo mark and a subtle hero/background illustration, and render them from the frontend as static assets (do not serve images through the backend).",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-city-selection-state-so-changing-the-city-in-the-city-picker-immediately-updates-the-selected-city-everywhere-it-is-displayed-used-e-g-header-label-and-local-time-today-view-computations-without-requiring-a-page-refresh",
      "title": "Fix city selection state so changing the city in the City Picker immediately updates the selected city everywhere it is displayed/used (e.g., header label and local time, Today view computations) without requiring a page refresh.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-localstorage-backed-city-selection-is-synchronized-across-multiple-concurrent-hook-instances-within-the-same-tab-e-g-citypicker-and-appheader-both-calling-usecityselection-so-updates-propagate-reliably-even-when-the-browser-storage-event-does-not-fire-in-the-same-document",
      "title": "Ensure localStorage-backed city selection is synchronized across multiple concurrent hook instances within the same tab (e.g., CityPicker and AppHeader both calling useCitySelection), so updates propagate reliably even when the browser 'storage' event does not fire in the same document.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-small-ux-affordance-in-the-city-picker-list-to-make-it-clear-which-city-is-currently-selected-e-g-different-button-variant-style-for-the-active-city-while-keeping-all-existing-search-and-dialog-behaviors-intact",
      "title": "Add a small UX affordance in the City Picker list to make it clear which city is currently selected (e.g., different button variant/style for the active city), while keeping all existing search and dialog behaviors intact.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-localstorage-backed-city-selection-so-changing-the-city-in-the-city-picker-immediately-updates-all-ui-that-depends-on-the-selected-city-e-g-appheader-city-label-local-time-and-any-today-view-computations-without-requiring-a-page-refresh-including-when-multiple-components-in-the-same-tab-use-the-city-selection-hook",
      "title": "Fix localStorage-backed city selection so changing the city in the City Picker immediately updates all UI that depends on the selected city (e.g., AppHeader city label/local time and any Today view computations) without requiring a page refresh, including when multiple components in the same tab use the city selection hook.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-localstorage-synchronization-hook-used-for-city-selection-so-it-reacts-to-localstorage-changes-that-occur-within-the-same-document-tab-not-just-across-tabs-and-so-it-keeps-hook-instances-in-sync-when-one-instance-writes-a-new-value",
      "title": "Update the localStorage synchronization hook used for city selection so it reacts to localStorage changes that occur within the same document/tab (not just across tabs), and so it keeps hook instances in sync when one instance writes a new value.",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-harden-city-selection-persistence-by-validating-the-stored-selected-city-object-when-reading-from-localstorage-and-falling-back-to-the-default-city-if-the-stored-value-is-missing-required-fields-or-is-not-a-valid-option-e-g-missing-invalid-timezone-string",
      "title": "Harden city selection persistence by validating the stored selected city object when reading from localStorage and falling back to the default city if the stored value is missing required fields or is not a valid option (e.g., missing/invalid timezone string).",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-in-the-city-picker-list-clearly-indicate-which-city-is-currently-selected-and-ensure-selecting-the-already-selected-city-does-not-cause-confusing-behavior-it-should-remain-selected-and-the-dialog-should-close-normally",
      "title": "In the City Picker list, clearly indicate which city is currently selected and ensure selecting the already-selected city does not cause confusing behavior (it should remain selected and the dialog should close normally).",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-lunar-longitude-computation-used-on-the-today-view-so-it-is-derived-from-the-selected-city-s-time-context-timezone-rather-than-only-from-the-browser-s-default-environment-so-changing-the-selected-city-results-in-a-corresponding-change-in-the-computed-longitude-when-applicable-and-the-returned-nakshatra-pada",
      "title": "Update the lunar-longitude computation used on the Today view so it is derived from the selected city’s time context (timezone) rather than only from the browser’s default environment, so changing the selected city results in a corresponding change in the computed longitude (when applicable) and the returned Nakshatra/Pada.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-react-query-caching-does-not-prevent-updates-when-the-selected-city-changes-by-including-the-selected-city-s-identity-at-minimum-timezone-optionally-name-in-the-determinenakshatra-query-key-and-or-explicitly-invalidating-refetching-the-query-on-city-change",
      "title": "Ensure React Query caching does not prevent updates when the selected city changes by including the selected city’s identity (at minimum timezone; optionally name) in the determineNakshatra query key and/or explicitly invalidating/refetching the query on city change.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-lightweight-user-facing-explanation-on-the-today-page-for-how-location-affects-the-result-timezone-local-time-context-written-in-english-to-reduce-confusion-when-users-expect-large-differences-between-cities",
      "title": "Add a lightweight, user-facing explanation on the Today page for how location affects the result (timezone/local-time context), written in English, to reduce confusion when users expect large differences between cities.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-a-working-use-current-position-flow-that-uses-browser-geolocation-navigator-geolocation-to-detect-the-user-s-latitude-longitude-and-set-the-app-s-selected-location-accordingly-while-keeping-the-existing-manual-city-picker-selection-as-a-fallback",
      "title": "Implement a working “Use Current Position” flow that uses browser geolocation (navigator.geolocation) to detect the user’s latitude/longitude and set the app’s selected location accordingly, while keeping the existing manual City Picker selection as a fallback.",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-city-selection-model-validation-so-a-geolocation-derived-selection-can-be-persisted-in-localstorage-and-reloaded-safely-even-though-it-may-not-be-one-of-the-predefined-entries-in-frontend-src-data-cities-ts",
      "title": "Update the city selection model/validation so a geolocation-derived selection can be persisted in localStorage and reloaded safely even though it may not be one of the predefined entries in frontend/src/data/cities.ts.",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-when-setting-a-location-from-geolocation-derive-and-store-a-timezone-identifier-in-a-way-that-does-not-require-external-apis-e-g-use-the-device-resolved-iana-timezone-via-intl-datetimeformat-resolvedoptions-timezone-and-ensure-today-page-calculations-use-that-timezone-for-local-time-context",
      "title": "When setting a location from geolocation, derive and store a timezone identifier in a way that does not require external APIs (e.g., use the device-resolved IANA timezone via Intl.DateTimeFormat().resolvedOptions().timeZone), and ensure Today page calculations use that timezone for local-time context.",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-harden-the-frontend-nakshatra-query-so-it-never-issues-a-backend-call-with-a-non-finite-longitude-and-provide-a-user-facing-retry-action-when-nakshatra-loading-fails",
      "title": "Harden the frontend Nakshatra query so it never issues a backend call with a non-finite longitude, and provide a user-facing retry action when Nakshatra loading fails.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-today-page-error-state-to-include-more-helpful-english-guidance-specific-to-this-failure-mode-without-adding-new-features-tell-the-user-to-retry-and-if-it-persists-to-change-city-timezone-selection-and-try-again",
      "title": "Update the Today page error state to include more helpful English guidance specific to this failure mode (without adding new features): tell the user to retry and, if it persists, to change city/timezone selection and try again.",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-new-top-level-navigation-tab-labeled-tomorrow-that-routes-to-a-new-tomorrow-page-alongside-the-existing-today-and-knowledge-base-navigation-items",
      "title": "Add a new top-level navigation tab labeled \"Tomorrow\" that routes to a new Tomorrow page, alongside the existing \"Today\" and \"Knowledge Base\" navigation items.",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-tomorrow-page-so-it-computes-and-displays-the-nakshatra-pada-reading-for-the-selected-city-time-context-at-an-anchor-time-exactly-24-hours-after-the-user-s-viewing-time-i-e-when-the-tomorrow-page-is-opened",
      "title": "Implement the Tomorrow page so it computes and displays the Nakshatra/Pada reading for the selected city/time context at an anchor time exactly 24 hours after the user’s viewing time (i.e., when the Tomorrow page is opened).",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-on-the-tomorrow-page-reuse-the-existing-daily-interpretation-content-blocks-to-show-the-interpretation-for-the-computed-tomorrow-nakshatra-using-the-existing-daily-content-dataset",
      "title": "On the Tomorrow page, reuse the existing daily interpretation content blocks to show the interpretation for the computed “tomorrow” Nakshatra, using the existing daily content dataset.",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-tomorrow-page-has-robust-loading-and-error-ui-consistent-with-the-today-page-including-a-retry-action-and-do-not-issue-a-backend-request-when-the-computed-longitude-is-invalid-non-finite",
      "title": "Ensure the Tomorrow page has robust loading and error UI consistent with the Today page (including a Retry action), and do not issue a backend request when the computed longitude is invalid/non-finite.",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-on-the-tomorrow-page-make-it-clear-in-english-what-tomorrow-means-by-showing-the-viewing-time-anchor-and-the-computed-target-time-24-hours-in-the-selected-city-s-timezone-context",
      "title": "On the Tomorrow page, make it clear (in English) what “Tomorrow” means by showing the viewing time anchor and the computed target time (+24 hours) in the selected city’s timezone context.",
      "reqIds": [
        "REQ-30"
      ],
      "version": 1
    },
    {
      "id": "feature-update-todaypage-and-tomorrowpage-to-display-a-clear-user-facing-error-state-when-the-app-cannot-compute-a-valid-lunar-longitude-instead-of-rendering-a-blank-state-with-english-guidance-to-retry-and-or-change-city-timezone-selection",
      "title": "Update TodayPage and TomorrowPage to display a clear user-facing error state when the app cannot compute a valid lunar longitude (instead of rendering a blank state), with English guidance to retry and/or change city/timezone selection.",
      "reqIds": [
        "REQ-33"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-tomorrow-page-s-viewing-time-anchor-behavior-matches-the-intended-ux-when-the-selected-city-timezone-context-changes-the-page-should-recompute-the-anchor-and-target-time-24h-consistently-so-the-computed-longitude-and-backend-query-correspond-to-the-currently-selected-city-time-context",
      "title": "Ensure the Tomorrow page’s viewing-time anchor behavior matches the intended UX: when the selected city/timezone context changes, the page should recompute the anchor and target time (+24h) consistently so the computed longitude and backend query correspond to the currently selected city/time context.",
      "reqIds": [
        "REQ-34"
      ],
      "version": 1
    },
    {
      "id": "feature-make-the-today-and-tomorrow-pages-resilient-to-transient-actor-initialization-timing-by-preventing-user-visible-error-loading-nakshatra-data-from-being-shown-due-to-brief-actor-not-ready-states-only-show-the-backend-error-ui-when-a-real-backend-failure-occurs-after-the-query-is-eligible-to-run",
      "title": "Make the Today and Tomorrow pages resilient to transient actor initialization timing by preventing user-visible \"Error loading Nakshatra data\" from being shown due to brief actor-not-ready states; only show the backend error UI when a real backend failure occurs after the query is eligible to run.",
      "reqIds": [
        "REQ-35"
      ],
      "version": 1
    },
    {
      "id": "feature-add-the-lovalina-font-to-the-frontend-as-a-self-hosted-static-asset-and-register-it-for-use-via-tailwind-classes-do-not-rely-on-external-font-cdns",
      "title": "Add the Lovalina font to the frontend as a self-hosted static asset and register it for use via Tailwind classes (do not rely on external font CDNs).",
      "reqIds": [
        "REQ-36"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-the-lovalina-font-to-the-app-header-brand-title-daily-nakshatra-in-the-top-navigation-header",
      "title": "Apply the Lovalina font to the app header brand title \"Daily Nakshatra\" in the top navigation header.",
      "reqIds": [
        "REQ-37"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-the-lovalina-font-to-primary-page-titles-across-the-app-e-g-the-main-h1-h2-title-text-at-the-top-of-today-tomorrow-knowledge-base-and-nakshatra-detail-pages",
      "title": "Apply the Lovalina font to primary page titles across the app (e.g., the main H1/H2 title text at the top of Today, Tomorrow, Knowledge Base, and Nakshatra Detail pages).",
      "reqIds": [
        "REQ-38"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-lovalina-font-integration-so-the-app-no-longer-loads-or-registers-the-lovalina-font-revert-to-the-pre-font-change-setup-this-includes-removing-the-font-face-declaration-for-lovalina-and-removing-the-tailwind-font-family-entry-for-lovalina",
      "title": "Remove the Lovalina font integration so the app no longer loads or registers the Lovalina font (revert to the pre-font-change setup). This includes removing the @font-face declaration for Lovalina and removing the Tailwind font family entry for Lovalina.",
      "reqIds": [
        "REQ-39"
      ],
      "version": 1
    },
    {
      "id": "feature-revert-all-ui-usage-of-the-lovalina-font-classes-to-the-default-typography-used-before-the-font-change-by-removing-font-lovalina-from-all-components-pages-that-currently-apply-it-app-header-brand-title-and-primary-page-titles",
      "title": "Revert all UI usage of the Lovalina font classes to the default typography used before the font change by removing `font-lovalina` from all components/pages that currently apply it (App header brand title and primary page titles).",
      "reqIds": [
        "REQ-40"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-there-are-no-remaining-references-to-lovalina-assets-classes-anywhere-in-the-frontend-codebase-after-the-revert-so-the-deployed-app-matches-the-pre-font-change-version-8-typography-behavior",
      "title": "Ensure there are no remaining references to Lovalina assets/classes anywhere in the frontend codebase after the revert, so the deployed app matches the pre-font-change (Version 8) typography behavior.",
      "reqIds": [
        "REQ-41"
      ],
      "version": 1
    },
    {
      "id": "feature-prevent-any-backend-determinenakshatra-call-from-being-issued-with-an-out-of-range-or-boundary-invalid-lunar-longitude-by-normalizing-and-validating-the-longitude-to-the-backend-accepted-domain-0-360-in-the-frontend-query-layer",
      "title": "Prevent any backend `determineNakshatra` call from being issued with an out-of-range or boundary-invalid lunar longitude by normalizing and validating the longitude to the backend-accepted domain [0, 360) in the frontend query layer.",
      "reqIds": [
        "REQ-42"
      ],
      "version": 1
    },
    {
      "id": "feature-eliminate-premature-or-placeholder-backend-requests-on-the-tomorrow-page-by-ensuring-the-determinenakshatra-query-is-disabled-until-the-tomorrow-longitude-has-been-computed-and-validated-for-the-selected-city-timezone-context",
      "title": "Eliminate premature or placeholder backend requests on the Tomorrow page by ensuring the determineNakshatra query is disabled until the Tomorrow longitude has been computed and validated for the selected city/timezone context.",
      "reqIds": [
        "REQ-43"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Detect user city (GPS) with manual location selection fallback",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Compute real-time Moon position to determine current Nakshatra and Pada for the user’s local time/location, including mid-day transitions",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Daily view: “What Today Feels Like” experiential snapshot for the active Nakshatra (emotional/mental/social/productivity themes)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "“A Day in the Life” narrative vignette per Nakshatra to support embodiment/attunement",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Nakshatra knowledge base with Symbolism/Mythology, Core Traits/Psychological Themes, and Pada breakdown (4 padas)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Optional notifications/alerts when the Moon enters a new Nakshatra in the user’s location",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Optional journaling prompts tailored to each Nakshatra",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Optional ritual/focus suggestions (work/rest/reflection/boundaries) based on the active Nakshatra",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Optional relationship overlay insights based on today’s Nakshatra",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Optional integration with user birth Nakshatra for resonance tracking",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Add backend logic to compute the Moon’s current Nakshatra and Pada from an input timestamp (UTC) and return a structured result that the frontend can display (Nakshatra name, Pada 1–4, and the computed lunar longitude used for the determination).",
      "reqIds": [
        "REQ-3"
      ],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Eliminate intermittent backend traps in determineNakshatra by ensuring the full 0–360° longitude range maps to exactly one Nakshatra (no gaps at boundary decimals) and always returns a valid result for any finite input in range.",
      "reqIds": [
        "REQ-23"
      ],
      "status": "pending"
    },
    {
      "id": "AR-15",
      "summary": "Add a “Tomorrow” tab that shows the Nakshatra/Pada reading computed for exactly 24 hours after the user’s current viewing time (using the same selected city/time context).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-16",
      "summary": "Eliminate intermittent backend traps in determineNakshatra by ensuring the full 0–360° longitude range maps to exactly one Nakshatra (no gaps from truncated boundary decimals) and determineNakshatra never traps for any finite longitude in range.",
      "reqIds": [
        "REQ-31"
      ],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Fix the incorrect Nakshatra boundary data that can cause overlaps/gaps (e.g., Jyeshtha start degree currently differs from the expected sequence) and align all Nakshatra start/end degrees to a consistent, mathematically correct progression across all 27 segments.",
      "reqIds": [
        "REQ-32"
      ],
      "status": "pending"
    },
    {
      "id": "AR-20",
      "summary": "Harden the backend `determineNakshatra` implementation so it does not trap on boundary-equivalent finite inputs (e.g., 360.0 due to float rounding) by normalizing the input longitude into [0, 360) before validation and lookup.",
      "reqIds": [
        "REQ-44"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Daily Nakshatra",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}