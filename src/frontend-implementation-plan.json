{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Go-live Version 22 (frontend release label + production cache-safety)",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Update the UI version label to display \"Version 22\" via the existing APP_VERSION constant used by AppLayout footer.",
      "acceptanceCriteria": [
        "`frontend/src/lib/appVersion.ts` exports `APP_VERSION = 'Version 22'` (exact string).",
        "The footer in the running app displays \"Version 22\" (via `AppLayout`)."
      ],
      "file_operations": [
        {
          "path": "frontend/src/lib/appVersion.ts",
          "operation": "modify",
          "description": "Update `APP_VERSION` to the exact string `Version 22` so AppLayout footer reflects the deployed release."
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Prepare the frontend build to reliably serve Version 22 immediately after deployment by reducing the chance of stale HTML/asset caching, so users receive the new release without a hard refresh.",
      "acceptanceCriteria": [
        "After deployment completes, the production (live) app loads successfully without requiring a hard refresh.",
        "The live app footer displays \"Version 22\" confirming the new frontend assets are serving.",
        "Backend canister upgrade completes without trapping and the app can initialize its actor connection on the live environment."
      ],
      "file_operations": [
        {
          "path": "frontend/index.html",
          "operation": "modify",
          "description": "Add standard cache-control meta tags (e.g., no-cache / no-store / must-revalidate plus pragma/expires) to reduce the likelihood of browsers serving a stale HTML shell after go-live, helping the new hashed JS/CSS assets load without requiring a user hard refresh."
        },
        {
          "path": "frontend/src/main.tsx",
          "operation": "modify",
          "description": "Add a lightweight runtime release marker (e.g., log APP_VERSION once on boot and/or attach it to a non-sensitive global like a data attribute) to help verify that the live environment is serving Version 22 assets during post-deploy checks."
        }
      ]
    }
  ]
}